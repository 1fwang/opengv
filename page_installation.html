<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>OpenGV: Installation</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenGV
   
   </div>
   <div id="projectbrief">A library for solving calibrated central and non-central geometric vision problems</div>
  </td>
  
  
  
   
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('page_installation.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Installation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="sec_installation_1"></a>
Downloading the source code</h2>
<p>OpenGV is freely available under</p>
<div class="fragment"><pre class="fragment">
https://github.com/laurentkneip/opengv
</pre></div><p>You may first have to register on github.com. You may just download a zip-file with the code, but we strongly recommend that you make yourself familiar with git. Git is a distributed version-control and source code management system. You can use the fork/pull-request mechanism if you want to easily get updates at a later stage, or perhaps also contribute to the development of the code. Under Linux, simply type:</p>
<div class="fragment"><pre class="fragment">
sudo apt-get install git
git fork https://github.com/laurentkneip/opengv
</pre></div><p>Under Windows you probably have a similar option. More information about git can be found here:</p>
<div class="fragment"><pre class="fragment">
http://git-scm.com/
</pre></div><p>Follow the "Try git" link for an amazing interactive tutorial.</p>
<h2><a class="anchor" id="sec_installation_2"></a>
Installation under Linux</h2>
<ul>
<li>
<p class="startli">Setup the required tools for compilation of standard libraries under Linux (gcc compiler etc). Type:</p>
<div class="fragment"><pre class="fragment">
sudo apt-get install build-essential
</pre></div><p class="endli"></p>
</li>
<li>
<p class="startli">Install cmake, eigen3 and boost, those tools are required by the library. Type:</p>
<div class="fragment"><pre class="fragment">
sudo apt-get install cmake eigen libboost-all-dev
</pre></div><p class="endli">CMake is a cross-platform, open-source build system used for pretty much anything in the compilation process but the compilation/linking itself. Eigen3 is a powerful linear algebra library used for all computations in OpenGV. Boost is a powerful C++ library which extends the functionality of the Standard Library. </p>
</li>
<li>
<p class="startli">Go to the top-level directory of OpenGV. Type:</p>
<div class="fragment"><pre class="fragment">
mkdir build &amp;&amp; cd build &amp;&amp; cmake .. &amp;&amp; make
</pre></div><p class="endli"></p>
</li>
<li>
Done </li>
</ul>
<h2><a class="anchor" id="sec_installation_3"></a>
Installation under Windows</h2>
<ul>
<li>
We need a suitable compiler for C++. We chose Visual Studio Express, which is free. Google for "Microsoft Visual Studio Express", it should be one of the first links. Make sure you download and install the "Windows Desktop version". If you are in a school setting without Administrator rights, just go to your local IT guy and ask him to install Microsoft Visual Studio on your machine. </li>
<li>
<p class="startli">We also need CMake under Windows. Go to:</p>
<div class="fragment"><pre class="fragment">
http://www.cmake.org/
</pre></div><p class="endli">and download the latest version. In a school setting without administrator rights, chose to download the zip-file. Extract it somewhere. </p>
</li>
<li>
<p class="startli">Open a new Developer Command Prompt for VS2012 and make sure all VS path variables are correctly set by checking the output of PATH. We also need to add the cmake-tools to the path. Add it by typing</p>
<div class="fragment"><pre class="fragment">
cd C:\&lt;path to cmake&gt;\bin
PATH=%PATH%;%cd%;
</pre></div><p class="endli"></p>
</li>
<li>
Go to the opengv directory and add a build folder </li>
<li>
<p class="startli">Now go to the</p>
<div class="fragment"><pre class="fragment">
opengv\build
</pre></div><p>directory, and setup the build process by typing:</p>
<div class="fragment"><pre class="fragment">
cmake -G "Visual Studio 11" ..
</pre></div><p class="endli">You need to add the correct generator for your Visual Studio version. I downloaded Visual Studio 2012, so it's 11 :) </p>
</li>
<li>
<p class="startli">Now build the library by typing:</p>
<div class="fragment"><pre class="fragment">
msbuild opengv.sln /p:Configuration=Release
</pre></div><p class="endli">inside the build directory. While there is not a single warning under Linux, there are thousands of warnings under Windows :) If anyone knows the reason, please let us know. </p>
</li>
<li>
Note that we included third-party stuff like eigen and boost in the sub-folder third_party. It is cleaner to get a fresh download of those dependencies on your computer, and reset the INCLUDE-directories in the CMakeLists.txt file. You should absolutely do so if you already have a version of these dependencies installed on your system. </li>
</ul>
<h2><a class="anchor" id="sec_installation_4"></a>
Installing the library under Matlab (Windows-version)</h2>
<ul>
<li>
<p class="startli">First setup the compiler from Matlab. Go to the matlab console and type</p>
<div class="fragment"><pre class="fragment">
mex -setup
</pre></div><p>and chose the right compiler by following the instructions. You will have to chose the same compiler than the one you used for compiling the opengv library before-hand. Under windows you might also run into the following problem. Depending on the distribution (e.g. R2012b), Matlab does not yet "know" your compiler (e.g. Visual Studio 2012), so you will have to additionally follow the following instructions.</p>
<div class="fragment"><pre class="fragment">
http://jimdavid.blogspot.com.au/2012/12/matlab-2012b-mex-setup-with-vs2012.html
</pre></div><p class="endli">to get things running. Also note that the Express compilers are not supported by Matlab, we ran into some issues when trying to use them. Please report if you have a solution to that. </p>
</li>
<li>
<p class="startli">Once this is done, you can compile the mex-file by going to the opengv/matlab folder and typing in the console</p>
<div class="fragment"><pre class="fragment">
mex -I../include -I../third_party -I../third_party/eigen3 -L../lib/Release -lopengv opengv.cpp
</pre></div><p class="endli"></p>
</li>
<li>
<p class="startli">An additional note on 64-bit Windows/Matlab systems: If you have a Matlab version that is 64-bit, you will have to also compile OpenGV in 64-bit. You will have to follow two steps for this under Windows. The first one is to make sure that you open an x64 native tools command prompt to make the x64 Visual Studio compiler visible. The second one is to-when running cmake-extend the generator name by " Win64". The final command to run cmake finally looks as follows:</p>
<div class="fragment"><pre class="fragment">
cmake -G "Visual Studio 11 Win64" ..
</pre></div><p class="endli">The actual build command stays the same. </p>
</li>
</ul>
<h2><a class="anchor" id="sec_installation_5"></a>
Installing the library under Matlab (Linux-version)</h2>
<p>The following has been tested under Ubuntu 12.04 and a recent Matlab edition (&gt;2013) (thanks to Oliver Dunkley for providing this information).</p>
<ul>
<li>
Install Matlab with the provided installer, and then add the matlab-support package through the package-repositories. This basically takes care of setting all the compiler stuff, adding a launcher, etc. </li>
<li>
<p class="startli">In order to make Matlab know about the shared object opengv.so, the path to opengv.so has to be added to LD_LIBRARY_PATH. Open .bashrc and add the line</p>
<div class="fragment"><pre class="fragment">
export LD_LIBRARY_PATH=~/Code/external/opengv/lib:$LD_LIBRARY_PATH
</pre></div><p class="endli">and then start Matlab from the terminal, it'll know about opengv ... </p>
</li>
<li>
<p class="startli">Go to the opengv/matlab-folder inside Matlab, and issue the command</p>
<div class="fragment"><pre class="fragment">
mex -I../include -I../third_party -I../third_party/eigen3 -L../lib -lopengv opengv.cpp -cxx
</pre></div><p class="endli">Note the lib directory does not contain a Release subfolder under linux, and that the -cxx option has to be added. </p>
</li>
</ul>
<h2><a class="anchor" id="sec_installation_6"></a>
Installing the library under Matlab (OSX-version)</h2>
<p>Has been succesfully tested as well, you may ask us for help in case you encounter any problems. </p>
</div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
  <div id="nav-path" class="navpath">
    <ul>

    <li class="footer">Generated on Tue Feb 18 2014 15:49:19 for OpenGV by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
